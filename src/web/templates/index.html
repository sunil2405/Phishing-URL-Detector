<!-- src/web/templates/index.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Phishing URL Detector â€” Demo</title>
  <style>
    body{font-family: Arial, sans-serif; padding: 30px; max-width:800px; margin:auto}
    input[type=text]{width:80%; padding:8px; margin-right:8px}
    button{padding:8px 12px}
    .result{margin-top:20px; padding:12px; border-radius:6px; }
    .safe{background:#e6ffed; border:1px solid #b6f2c6}
    .phish{background:#ffe6e6; border:1px solid #f2b6b6}
  </style>
</head>
<body>
  <h1>Phishing URL Detector</h1>
  <p>Paste a URL and click Detect.</p>
  <input id="url" type="text" placeholder="https://example.com/..." />
  <button id="btn">Detect</button>
  <div id="out"></div>
<script>
document.getElementById("btn").onclick = async function(){
  const url = document.getElementById("url").value.trim();
  if(!url){ alert("Enter URL"); return; }
  const res = await fetch("/api/classify", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body: JSON.stringify({url})
  });
  const j = await res.json();
  const out = document.getElementById("out");
  out.innerHTML = "";
  const div = document.createElement("div");
  div.className = "result " + (j.label ? "phish":"safe");
  div.innerHTML = "<strong>URL:</strong> "+ j.url +
    "<br><strong>Phishing probability:</strong> " + (j.phishing_probability).toFixed(3) +
    "<br><strong>Label:</strong> " + (j.label ? "Phishing":"Benign");
  out.appendChild(div);
};
</script>
</body>
</html>
